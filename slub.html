<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

	<link rel="stylesheet" type="text/css" media="all" href="/static/styles/css/slub.css">
	<meta name="viewport" content="initial-scale = 1.0,maximum-scale = 1.0">
</head>
<body onload="domReady()">
	<header>
		Sylwia i Wojtek: 
		<a href="#photos_2004">2004</a>,
		<a href="#photos_2005">2005</a>,
		<a href="#photos_2006">2006</a>,
		<a href="#photos_2007">2007</a>,
		<a href="#photos_2008">2008</a>,
		<a href="#photos_2009">2009</a>,
		<a href="#photos_2010">2010</a>,
		<a href="#photos_2011">2011</a>,
		<a href="#photos_2012">2012</a>,
		<a href="#photos_2013">2013</a>,
	</header>

	<section id="photos_header" class="section-photos section-header" style="background-image: url(/images/slub/slub-header.jpg)">
		<h1>Sylwia i Wojtek</h1>
		<h2>Nasza Wspólna Przygoda</h2>
		<p>Krótka historia naszego wspólnego, prywatnego wycinka wiecznści.</p>
	</section>

	<section class="section-color-B">
		<div class="section-content">
			<div class="grid">
				<div class="grid__item one-half lap-one-whole">
					<h3>Mazury 2004</h3>
					<p>
						Tutaj się wszystko oficjalnie zaczęło. 
					</p>
					
					<h3>2005</h3>
					
					<h3>2006</h3>
				</div><!-- 
				--><div class="grid__item one-half lap-one-whole">
					<img src="/images/slub/wojtek-sylwia_01.jpg" height="400" />
				</div>
			</div>
		</div>
	</section>

	<section id="photos_2007" class="section-photos" style="background-image: url(/images/slub/slub-2007.jpg)">
		<h2>rok 2007</h2>
	</section>
	<section class="section-color-M">
		<div class="section-content">
			<div class="grid">
				<div class="grid__item two-thirds lap-one-whole">
					<h3>Dużo się działo. Ostatni rok studiów. Wrocław, Camden Town, Thames Festival...</h3>
				</div><!-- 
				--><div class="grid__item one-whole">
					<p>
						Rok 2007 minął pod znakiem Big Bena i wszystkiego co brytyjskie. Zaraz po ukończeniu
						studiów, Wojtek dostał prace w Londynie i wakacyjne miesiące spędziliśmy razem.
					<p>
					
					<img src="/images/slub/2007/london.jpg" height="302" /><!-- 
					--><img src="/images/slub/2007/razem.jpg" height="600" /><!-- 
					--><img src="/images/slub/2007/sylwia.jpg" height="600" />
					
					<p>
						Niezabrakło też polskich akcentów :)
					</p>
					<img src="/images/slub/2007/wroclaw.jpg" height="280" />
				</div>
			</div>
		</div>
		
	</section>

	<section id="photos_2008" class="section-photos" style="background-image: url(/images/slub/slub-2008.jpg)">
		<h2>rok 2008</h2>
	</section>
	<section class="section-color-B">
		<div class="section-content">
			<div class="grid">
				<div class="grid__item two-thirds">
					<h3>Londyn, Wrocław i ... zaręczyny :)</h3>
				</div><!-- 
				--><div class="grid__item one-whole">
					<ul>
						<li>Zaręczyny</li>
						<li>Kolejne wakacje w Londynie</li>
					</ul>
					<img src="/images/slub/2008/my-1.jpg" width="200" /><!-- 
					--><img src="/images/slub/2008/sylwia-1.jpg" width="200" /><!-- 
					--><img src="/images/slub/2008/wojtek-1.jpg" width="200" /><!-- 
					--><img src="/images/slub/2008/my-2.jpg" width="200" />
				</div>
			</div>
		</div>
	</section>

	<section id="photos_2009" class="section-photos" style="background-image: url(/images/slub/slub-2009.jpg)">
		<h2>2009</h2>
	</section>
	<section class="section-color-C">
		<div class="section-content">
			<div class="grid">
				<div class="grid__item two-thirds lap-one-whole">
					<h3>Ghent, Brugia, Ostende, Bruksela, Nothing Hill, Cambridge, Zakopane</h3>
				</div><!-- 
				--><div class="grid__item one-whole">
					<p>Oj działo się w 2009 roku. Sylwia na początku roku wyjechała na praktyki do
					Gent i spędziła tam 3 miesiące. Eurostar okazał się najlepszym i najszybszym 
					połączeniem relacji Londyn - Gent :)</p>
				</div><!-- 
				--><div class="grid__item one-whole">
					<img src="/images/slub/2009/belgia-2.jpg" width="33.333%" /><!-- 
					--><img src="/images/slub/2009/belgia-1.jpg" width="33.333%" /><!-- 
					--><img src="/images/slub/2009/belgia-5.jpg" width="33.333%" /><!-- 
					--><img src="/images/slub/2009/belgia-4.jpg" width="49.9%" /><!-- 
					--><img src="/images/slub/2009/belgia-3.jpg" width="50%" />
				</div>
			</div>
		</div>
	</section>

	<section id="photos_2010" class="section-photos" style="background-image: url(/images/slub/slub-2010.jpg)">
		<h2>2010</h2>
	</section>
	<section class="" style="background-color: #FFF;">
		<h3>...</h3>
	</section>
	
	<section id="photos_2011" class="section-photos" style="background-image: url(/images/slub/slub-2011.jpg)">
		<h2>2011</h2>
	</section>
	<section class="" style="background-color: #FFF;">
		<h3>Rok 2011</h3>
	</section>

	<section id="photos_2012" class="section-photos" style="background-image: url(/images/slub/slub-2012.jpg)">
		<h2>2012</h2>
	</section>
	<section class="" style="background-color: #FFF;">
		<h3>Rok 2012</h3>
	</section>

	<section id="photos_2013" class="section-photos" style="background-image: url(/images/slub/slub-2013.jpg)">
		<h2>2013</h2>
	</section>
	<section>
		<h3>Co Dalej?</h3>
	</section>
	
	<script type="text/javascript">
		var handlerHeader = createSectionHandler('photos_header', {height: 600});
		handlerHeader(window.pageXOffset, window.pageYOffset);
		
		var handler2007 = handler2008 = handler2009 = handler2010 = handler2011
				= handler2012 = handler2013 = function() {};

		function domReady() {
			console.log('dom ready');
			handler2007 = createSectionHandler('photos_2007', {height: 600});
			handler2008 = createSectionHandler('photos_2008', {height: 600, horizontal: 0.8});
			handler2009 = createSectionHandler('photos_2009', {height: 700, horizontal: 0});
			handler2010 = createSectionHandler('photos_2010', {height: 600});
			handler2011 = createSectionHandler('photos_2011', {height: 600});
			handler2012 = createSectionHandler('photos_2012', {height: 600});
			handler2013 = createSectionHandler('photos_2013', {height: 600});
		}

		

		window.onscroll = function (oEvent) {
			handlerHeader(window.pageXOffset, window.pageYOffset);
			handler2007(window.pageXOffset, window.pageYOffset);
			handler2008(window.pageXOffset, window.pageYOffset);
			handler2009(window.pageXOffset, window.pageYOffset);
			handler2010(window.pageXOffset, window.pageYOffset);
			handler2011(window.pageXOffset, window.pageYOffset);
			handler2012(window.pageXOffset, window.pageYOffset);
			handler2013(window.pageXOffset, window.pageYOffset);
		}

		function createSectionHandler(id, options) {
			var el = document.getElementById(id);
			var elPos = getPos(el);
			var bubble = el.getElementsByClassName('bubble-big')[0];
			var bubblePos = getPos(bubble);
			var visibilityYEdge = elPos.y - window.innerHeight;

			// P1 (el.clientHeight, window.innerHeight - options.height)
			// P2 (window.innerHeight, 0)
			// a = (window.innerHeight - options.height) / (el.clientHeight - window.innerHeight)
			// b = 0 - a * window.innerHeight
			options.speed = (window.innerHeight - options.height) / (el.clientHeight - window.innerHeight);

			return function(pageXOffset, pageYOffset) {
				if (visibilityYEdge > pageYOffset || (window.innerHeight + visibilityYEdge + el.clientHeight) < pageYOffset) {
					return;
				}
				console.log(id);
				var diff = window.innerHeight - elPos.y + pageYOffset;

				var top = -options.speed * window.innerHeight + diff * options.speed;
				el.style.backgroundPosition = 'center ' + top + 'px';
				
				if (options.horizontal) {
					left = diff * options.horizontal;
					el.style.backgroundPosition = left + 'px ' + top + 'px';;
				}
			};
		}

		function getPos(el) {
			// yay readability
			for (var lx=0, ly=0;
				el != null;
				lx += el.offsetLeft, ly += el.offsetTop, el = el.offsetParent);

			return {x: lx,y: ly};
		}
	</script>
</body>
</html>